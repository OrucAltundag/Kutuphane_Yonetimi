@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">

<head>
    <title>Kütüphane Giriş Paneli</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="~/weblogin/css/style.css" rel="stylesheet" type="text/css" />
    <link href="~/weblogin/css/fontawesome-all.css" rel="stylesheet" />
    <link href="//fonts.googleapis.com/css?family=Raleway:100,200,300,400,500,600,700,800,900"
          rel="stylesheet">

    <style>
        .login-container {
            perspective: 1000px;
            width: 420px;
            margin: 0 auto;
        }

        .login-card {
            position: relative;
            width: 100%;
            min-height: 520px; /* kutunun yüksekliği */
            transform-style: preserve-3d;
            transition: transform .8s;
        }

            .login-card.flipped {
                transform: rotateY(180deg);
            }

        .login-face {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            backface-visibility: hidden;
        }

        .login-back {
            transform: rotateY(180deg);
        }
        /* mevcut kutunun (w3l-login-form) iç padding/margin'ini koruyoruz */
        .login-face .w3l-login-form {
            margin: 0;
        }
    </style>


</head>


<body>
    <h1>Kütüphane Giriş Paneli</h1>

    <div class="login-container">
        <div class="login-card" id="loginCard">

            <!-- Üye Girişi -->
            <div class="login-face">
                <div class="w3l-login-form">
                    <h2>Giriş Yap</h2>
                    @using (Html.BeginForm("GirisYap", "Login", FormMethod.Post))
                    {
                        <div class="w3l-form-group">
                            <label>Kullanıcı Adı veya Mail:</label>
                            <div class="group">
                                <i class="fas fa-user"></i>
                                <input type="text" class="form-control" placeholder="Kullanıcı Adı veya Mail" name="KULLANICIADI" required="required" />
                            </div>
                        </div>
                        <div class="w3l-form-group">
                            <label>Şifre:</label>
                            <div class="group">
                                <i class="fas fa-unlock"></i>
                                <input type="password" class="form-control" placeholder="Şifre" name="SIFRE" required="required" />
                            </div>
                        </div>
                        <div class="forgot">
                            <a href="#">Şifremi Unuttum!</a>
                            <p>
                                @Html.CheckBox("BeniHatirla", false) Beni Hatırla
                            </p>
                        </div>
                        <button type="submit">Giriş</button>
                    }
                    <p class="w3l-register-p">
                        Üye değil misiniz?
                        <a href="/Kayit/KayitOl" class="register"> Kayıt Ol</a>
                    </p>
                    <br />
                    <p class="w3l-register-p">
                        <a href="#" onclick="toggleLogin()">Personel Girişi</a>
                    </p>
                </div>
            </div>


            <!-- Personel Girişi -->
            <div class="login-face login-back">
                <div class="w3l-login-form">
                    <h2>Personel Girişi</h2>
                    @using (Html.BeginForm("GirisYap", "Personel", FormMethod.Post))
                    {
                        <div class="w3l-form-group">
                            <label>Personel TC:</label>
                            <div class="group">
                                <i class="fas fa-id-badge"></i>
                                <input type="text" name="TC" class="form-control" required />
                            </div>
                        </div>
                        <div class="w3l-form-group">
                            <label>Şifre:</label>
                            <div class="group">
                                <i class="fas fa-unlock"></i>
                                <input type="password" name="SIFRE" class="form-control" required />
                            </div>
                        </div>
                        <button type="submit">Personel Girişi</button>
                    }
                    <p class="w3l-register-p">
                        <a href="#" id="toMember">Üye Girişi</a>
                    </p>
                </div>
            </div>


        </div>
    </div>





    <footer>
        <p>&copy; 2025 Kütüphane Giriş Formu. Tüm Hakları Saklıdır.</p>
    </footer>



    <script>
        function toggleLogin() {
            document.getElementById("loginCard").classList.toggle("flipped");
        }
    </script>

</body>

</html>

<script>
    (function () {
        var card = document.getElementById('loginCard');
        var toStaff = document.getElementById('toStaff');
        var toMember = document.getElementById('toMember');

        if (toStaff) {
            toStaff.addEventListener('click', function (e) {
                e.preventDefault();
                card.classList.add('flipped');
            });
        }
        if (toMember) {
            toMember.addEventListener('click', function (e) {
                e.preventDefault();
                card.classList.remove('flipped');
            });
        }

        // ?personel=1 ile gelinirse doğrudan personel yüzünü göster
        var params = new URLSearchParams(window.location.search);
        if (params.get('personel') === '1') {
            card.classList.add('flipped');
        }
    })();
</script>

